<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>tutorial 10</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Loading Bootstrap -->
    <link href="css/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Loading Flat UI -->
    <link href="css/flat-ui.min.css" rel="stylesheet">

    <link rel="shortcut icon" href="img/favicon.ico">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements. All other JS at the end of file. -->
    <!--[if lt IE 9]>
      <script src="js/vendor/html5shiv.js"></script>
      <script src="js/vendor/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
        <h1>yoel html5 2d game engine programming tut 10</h1>
		<h2>save/load</h2>
		<hr>
		<div class="row">
			<div class="tile  palette palette-peter-river">
				<p>
				in this tutorial i will show how use my game engine save load class via local storge.
			    </p>
			</div>
			<div class="ypart1">
				<p>
				</p>
				
				<p>
				the finished project is in file 10)save_load
				</p>
				
				<p>
				</p>
				<p>
					first we will create an instance of y_store class.<br>
					that is the class that dose the saving and loading
					
				</p>
				<pre><code class="js">
				var extanded_entity = function(x,y,z,yimg)
				{
					this.type = 'extanded_entity'; 

					//extand entity
					y_entity.call(this,x,y,z,3,yimg);
					<span class=" palette-alizarin" >
					this.save = new y_store();
					</span >
					this.is_key_control = true;

				}//end extanded_entity
				</code></pre>
				
				<p>
					
					we will also add keyboard control
				</p>
				<pre><code class="js">
				var extanded_entity = function(x,y,z,yimg)
				{
					this.type = 'extanded_entity'; 

					//extand entity
					y_entity.call(this,x,y,z,3,yimg);
					
					this.save = new y_store();
					<span class=" palette-alizarin" >
					this.is_key_control = true;
					</span >
				}//end extanded_entity
				</code></pre>
			</div><!--end ypart1-->
			<div class="ypart2">
				<p>
				then we will create methods for save and load and add them to the update method.
				</p>
			
				<pre><code class="js">
				
				extanded_entity_p.update = function()
				{
					//do stuff when class created
					this.init();
					
					<span class=" palette-alizarin" >
					this.ysave();
					this.yload();
					</span>
					
					//call parent update func
					y_entity_p.update.call(this); 

				}//end update

				extanded_entity_p.ysave = function()
				{
				

					
				}//end ysave

				extanded_entity_p.yload = function()
				{
			
				}//end yload

				</code></pre>
				<p>
				in save we will chack if player clicks "k" and then save the xy of the entity.
				</p>
	
				<pre><code class="js">
				extanded_entity_p.ysave = function()
				{
					if(y_input2_p.key_down[y_key.K])
					{
						x = this.x;
						y = this.y;
						pos = {'x':x,'y':y}
						this.save.set("player_pos",pos);
						ytrace('save');
					}

					
				}//end ysave
				</code></pre>
				
				<p>
				y_store.save(name,data)<br>
				gets two arguments, the first is the save name,with that name we will call the data when we will use load.<br>
				data is the data that will be saved in this case i saved an object(pos).<br>
				
				in load method we will call "player_pos" data, it will load even if you refresh the page first.
				
				
				</p>
				
	
				<pre><code class="js">
				extanded_entity_p.yload = function()
				{
					if(y_input2_p.key_down[y_key.L])
					{
						pos = this.save.get("player_pos");
						this.x = pos.x;
						this.y = pos.y;
						y_entity_p.move_by.call(this,0,0,0);
						ytrace('load');
					}
				}//end yload
				</code></pre>
				
				
				<p>
				to load you click on l, i covered keyboard input and move by in previous tuts. 
				the basic tuts are in my github account.<br><br>
				y_store.get(name)<br>
				needs only one argument the name of the data we saved earlier.<br>
				it will return the object we saved.
				
				</p>
					
				
			</div><!--end ypart2-->
			<div class="ypart3"></div><!--end ypart3-->
			<div class="ypart4"></div><!--end ypart4-->
		</div>
	
    </div>
    <!-- /.container -->
	
    <!-- script higlighter -->
	

    <!-- jQuery (necessary for Flat UI's JavaScript plugins) -->
    <script src="js/vendor/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/vendor/video.js"></script>
    <script src="js/flat-ui.min.js"></script>
	<script>
	///scroll to div when link is clicked
	$( document ).ready(function() {
	    $("yscroll").on('click', function(e) {

			// prevent default anchor click behavior
		   e.preventDefault();

		   // animate
		   $('html, body').animate({
			   scrollTop: $(this.hash).offset().top
			 }, 300, function(){
	   
			   // when done, add hash to url
			   // (default click behaviour)
			   window.location.hash = this.hash;
			 });

		});
	});
	</script>

  </body>
</html>
